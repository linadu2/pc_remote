# PC Media Control for Home Assistant

![Language](https://img.shields.io/badge/Language-Go-blue.svg) ![Home Assistant](https://img.shields.io/badge/Home%20Assistant-Integration-blue) ![License](https://img.shields.io/badge/License-MIT-green.svg)

Control your Windows or Linux PC's volume and media playback directly from Home Assistant. This project consists of a lightweight **Go server** running on your PC and a **Custom Integration** for Home Assistant.

## Features

*   üîä **Volume Control**: Get and Set system volume (synchronized).
*   ‚èØÔ∏è **Media Control**: Play/Pause toggle using simulated media keys.
*   üîå **Connection Status**: Detects if PC is On or Off.
*   üîí **Secure**: Uses Token-based authentication.
*   üñ•Ô∏è **GUI Setup**: Easy configuration wizard‚Äîno command line needed for configuration.
*   ‚ö° **Lightweight**: Written in Go, consumes minimal resources.

---

## üöÄ Installation

### Part 1: Build & Run the PC Server

Since there are no pre-compiled binaries yet, you need to build the server yourself. It's easy!

### Part 2: Home Assistant Integration

1.  Copy the `custom_components/pc_control` folder from this repo to your Home Assistant config directory:
    `/config/custom_components/pc_control/`
2.  **Restart** Home Assistant.
3.  Go to **Settings** > **Devices & Services**.
4.  Click **Add Integration** and search for **"PC Media Controller"**.
5.  Enter the details provided by the PC Server app:
    *   **Host**: Your PC's IP address.
    *   **Port**: `8090` (default).
    *   **Access Token**: The token generated by the app.
6.  Click **Submit**.

---

## ‚ùì Troubleshooting

**Home Assistant shows "Unavailable"**
*   Ensure the PC Server is running.
*   Check if your PC's firewall is allowing traffic on port `8090`.
*   Verify the IP address hasn't changed (set a Static IP for your PC).

**Volume not changing**
*   **Linux**: Ensure you have ALSA/PulseAudio development libraries installed (`libasound2-dev`).

**Build fails on Linux**
*   Make sure you installed the Fyne requirements: `libgl1-mesa-dev` and `xorg-dev`.

---
